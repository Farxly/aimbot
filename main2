local logicUrl = "https://raw.githubusercontent.com/Farxly/aimbot/refs/heads/main/main"
pcall(function() loadstring(game:HttpGet(logicUrl))() end)

local waitCount = 0
repeat task.wait(0.1) waitCount = waitCount + 1 until _G.AimGlobal or waitCount > 30

if not _G.AimGlobal then return end
local Settings = _G.AimGlobal

local P = game:GetService("Players")
local U = game:GetService("UserInputService")
local LP = P.LocalPlayer

local G = {}
local FOV_COLORS = {Color3.fromRGB(139,92,246), Color3.fromRGB(0, 255, 0), Color3.fromRGB(255, 255, 255), Color3.fromRGB(255, 0, 0)}
local FOV_COLOR_INDEX = 1
local MT = "⭐"
local MS = UDim2.new(0, 30, 0, 30)
local OS = UDim2.new(0,220,0,250) 
local OP = UDim2.new(0.06,0,0.12,0)
local M = false 
local S = false 

local function updateAimPart(index)
    Settings.APi = index
    Settings.AP = Settings.AOP[Settings.APi]
    if G.aimPartBtn then G.aimPartBtn.Text = "Target: " .. Settings.AP end
end

local function cycleFOVColor()
    FOV_COLOR_INDEX = (FOV_COLOR_INDEX % #FOV_COLORS) + 1
    Settings.FC = FOV_COLORS[FOV_COLOR_INDEX]
    if G.colorBtn then 
        G.colorBtn.BackgroundColor3 = Settings.FC 
        G.colorBtn.Text = "Color"
    end
end

local function toggleScrolling()
    S = not S
    if G.aimPartList then
        G.aimPartList.Visible = S
        G.aimPartBtn.BackgroundColor3 = S and Color3.fromRGB(220, 110, 20) or Color3.fromRGB(60,60,60)
        if S then
             local scrollPos = math.max(0, (Settings.APi - 1) * 22 - (G.aimPartList.CanvasSize.Y.Offset / 2) + 11)
             G.aimPartList.CanvasPosition = Vector2.new(0, scrollPos)
        end
    end
end

local function updateSmoothness(newSmooth)
    local num = tonumber(newSmooth)
    if num and num >= 0.1 and num <= 50.0 then
        Settings.SM = num
        if G.smoothBox then G.smoothBox.PlaceholderText = string.format("Smooth: %.1f (Set)", Settings.SM) end
    else
        if G.smoothBox then G.smoothBox.PlaceholderText = string.format("Smooth: %.1f", Settings.SM) end
    end
    if G.smoothBox then G.smoothBox.Text = "" end
end

local function updateLockDistance(newDist)
    local num = tonumber(newDist)
    if num and num >= 1 and num <= 2000 then 
        Settings.LD = num
        if G.distBox then G.distBox.PlaceholderText = string.format("Dist: %d (Set)", Settings.LD) end
    else
        if G.distBox then G.distBox.PlaceholderText = string.format("Dist: %d", Settings.LD) end
    end
    if G.distBox then G.distBox.Text = "" end
end

local function updatePredictionRate(newRate)
    local num = tonumber(newRate)
    if num and num >= 0.0 and num <= 0.5 then 
        Settings.PR = num
        if G.predBox then G.predBox.PlaceholderText = string.format("Pred: %.2f (Set)", Settings.PR) end
    else
        if G.predBox then G.predBox.PlaceholderText = string.format("Pred: %.2f", Settings.PR) end
    end
    if G.predBox then G.predBox.Text = "" end
end

local function drag(drag_handle, frame_to_move)
    local dragging, dragStart, startPos = false, nil, nil
    drag_handle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame_to_move.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    drag_handle.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement) then
            local delta = input.Position - dragStart
            frame_to_move.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

local function syncAimbotState(newState)
    Settings.A = newState
    local accentColor = Color3.fromRGB(120,40,220)
    local defaultColor = Color3.fromRGB(60,60,60)
    if G.toggleBtn then
        G.toggleBtn.Text = (Settings.A and "AIMBOT: ON" or "AIMBOT: OFF")
        G.toggleBtn.BackgroundColor3 = Settings.A and accentColor or defaultColor
    end
    if G.FloatingToggleBtn then
        G.FloatingToggleBtn.Text = Settings.A and "ON" or "OFF"
        G.FloatingToggleBtn.BackgroundColor3 = Settings.A and accentColor or defaultColor
    end
end

local function toggleMinimize()
    S = false
    if G.aimPartList then G.aimPartList.Visible = false end
    if G.aimPartBtn then G.aimPartBtn.BackgroundColor3 = Color3.fromRGB(60,60,60) end
    M = not M
    local f = G.frame
    local mb = G.minimizeBtn
    local t = G.title
    local tb = G.toggleBtn
    if M then
        OP = f.Position; OS = f.Size
        f.Size = MS
        f.Position = UDim2.new(OP.X.Scale, OP.X.Offset, OP.Y.Scale, OP.Y.Offset)
        t.Text = MT; t.Position = UDim2.new(0,0,0,0); t.Size = UDim2.new(1,0,1,0)
        t.BackgroundTransparency = 0; t.BackgroundColor3 = Color3.fromRGB(110,20,220)
        t.TextColor3 = Color3.fromRGB(255,255,255); t.TextScaled = false; t.TextSize = 24 
        mb.Text = ""; mb.Position = UDim2.new(0, 0, 0, 0); mb.Size = UDim2.new(1,0,1,0)
        mb.BackgroundTransparency = 1; mb.BackgroundColor3 = Color3.new(0,0,0)
        mb.ZIndex = 3
        tb.Visible = false; G.fovToggle.Visible = false; G.fovMinus.Visible = false
        G.fovPlus.Visible = false; G.deleteBtn.Visible = false; G.aimPartBtn.Visible = false
        G.smoothBox.Visible = false; G.teamCheckBtn.Visible = false
        G.distBox.Visible = false; G.predBox.Visible = false; G.colorBtn.Visible = false; 
        G.floatToggleBtnMaster.Visible = false 
    else
        f.Size = OS; f.Position = UDim2.new(OP.X.Scale, OP.X.Offset, OP.Y.Scale, OP.Y.Offset)
        t.Text = "Aim Tool"; t.Position = UDim2.new(0,6,0,0); t.Size = UDim2.new(1,-12,0,24)
        t.BackgroundTransparency = 1; t.BackgroundColor3 = Color3.fromRGB(24,24,24)
        t.TextColor3 = Color3.fromRGB(230,230,230); t.TextScaled = true; t.TextSize = 0 
        mb.Text = "—"; mb.Position = UDim2.new(1, -28, 0, 4); mb.Size = UDim2.new(0,20,0,18)
        mb.BackgroundTransparency = 0; mb.BackgroundColor3 = Color3.fromRGB(60,60,60); mb.ZIndex = 11
        tb.Visible = true; G.fovToggle.Visible = true; G.fovMinus.Visible = true
        G.fovPlus.Visible = true; G.deleteBtn.Visible = true; G.aimPartBtn.Visible = true
        G.smoothBox.Visible = true; G.teamCheckBtn.Visible = true
        G.distBox.Visible = true; G.predBox.Visible = true; G.colorBtn.Visible = true
        G.floatToggleBtnMaster.Visible = true 
    end
    drag(M and f or G.HeaderFrame, f)
end

local function deleteGUI()
    if G.screenGui then pcall(function() G.screenGui:Destroy() end) end
    if G.FloatingToggleSG then pcall(function() G.FloatingToggleSG:Destroy() end) end 
    Settings.A = false
    Settings.Running = false 
    G = {}
end

local function createFloatingToggle()
    local floatingSG = Instance.new("ScreenGui")
    floatingSG.Name = "FloatingToggleSG"
    floatingSG.ResetOnSpawn = false
    floatingSG.Parent = LP:WaitForChild("PlayerGui")
    G.FloatingToggleSG = floatingSG

    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 90, 0, 30) 
    Frame.Position = UDim2.new(0.01, 0, 0.5, 0)
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.ZIndex = 999
    Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 6)
    Frame.Parent = floatingSG
    
    local toggleBtn = Instance.new("TextButton")
    toggleBtn.Size = UDim2.new(1, 0, 1, 0) 
    toggleBtn.Position = UDim2.new(0, 0, 0, 0)
    toggleBtn.BackgroundColor3 = Settings.A and Color3.fromRGB(120,40,220) or Color3.fromRGB(60,60,60)
    toggleBtn.TextColor3 = Color3.new(1, 1, 1)
    toggleBtn.Text = Settings.A and "ON" or "OFF"
    toggleBtn.Font = Enum.Font.SourceSansBold
    toggleBtn.TextSize = 16 
    toggleBtn.Parent = Frame
    G.FloatingToggleBtn = toggleBtn

    toggleBtn.MouseButton1Click:Connect(function() syncAimbotState(not Settings.A) end)
    drag(Frame, Frame) 
end

local function makeGUI()
    if not LP then return nil end
    local pg = LP:WaitForChild("PlayerGui")
    if pg:FindFirstChild("Aimbot_CleanGUI") then pg:FindFirstChild("Aimbot_CleanGUI"):Destroy() end
    
    local sg = Instance.new("ScreenGui")
    sg.Name = "Aimbot_CleanGUI"
    sg.ResetOnSpawn = false
    sg.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    pcall(function() sg.Parent = pg end)
    
    local f = Instance.new("Frame", sg); f.Name = "Main"; f.Size = OS; f.Position = OP
    f.BackgroundColor3 = Color3.fromRGB(24,24,24); f.BorderSizePixel = 0; f.ZIndex = 255 
    Instance.new("UICorner", f).CornerRadius = UDim.new(0,10); G.frame = f
    
    local HeaderFrame = Instance.new("Frame", f); HeaderFrame.Name = "Header";
    HeaderFrame.Size = UDim2.new(1,0,0,24); HeaderFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30);
    HeaderFrame.BorderSizePixel = 0; G.HeaderFrame = HeaderFrame
    drag(HeaderFrame, f)

    local t = Instance.new("TextLabel", HeaderFrame); t.Size = UDim2.new(1,-12,1,0); t.Position = UDim2.new(0,6,0,0)
    t.BackgroundTransparency = 1; t.Text = "Aim Tool"; t.TextColor3 = Color3.fromRGB(230,230,230); t.TextScaled = true; t.Font = Enum.Font.SourceSansSemibold; t.ZIndex = 255; G.title = t
    
    local db = Instance.new("TextButton", HeaderFrame); db.Name = "Delete"; db.Size = UDim2.new(0,20,0,18)
    db.Position = UDim2.new(1, -6, 0, 4); db.Text = "X"; db.TextScaled = true; db.BackgroundColor3 = Color3.fromRGB(200, 0, 0); db.TextColor3 = Color3.fromRGB(255,255,255); db.BorderSizePixel = 0; db.ZIndex = 255
    Instance.new("UICorner", db).CornerRadius = UDim.new(0,6); db.MouseButton1Click:Connect(deleteGUI); G.deleteBtn = db
    
    local mb = Instance.new("TextButton", HeaderFrame); mb.Name = "Minimize"; mb.Size = UDim2.new(0,20,0,18)
    mb.Position = UDim2.new(1, -28, 0, 4); mb.Text = "—"; mb.TextScaled = true; mb.BackgroundColor3 = Color3.fromRGB(60,60,60); mb.TextColor3 = Color3.fromRGB(255,255,255); db.BorderSizePixel = 0; mb.ZIndex = 255
    Instance.new("UICorner", mb).CornerRadius = UDim.new(0,6); mb.MouseButton1Click:Connect(toggleMinimize); G.minimizeBtn = mb

    local tb = Instance.new("TextButton", f); tb.Name = "Toggle"; tb.Size = UDim2.new(0.92,0,0,36)
    tb.Position = UDim2.new(0.04,0,0,28); tb.Text = "AIMBOT: OFF"; tb.TextScaled = true; tb.BackgroundColor3 = Color3.fromRGB(110,20,220); tb.TextColor3 = Color3.fromRGB(255,255,255); tb.BorderSizePixel = 0; tb.ZIndex = 255
    Instance.new("UICorner", tb).CornerRadius = UDim.new(0,10); G.toggleBtn = tb
    tb.MouseButton1Click:Connect(function() syncAimbotState(not Settings.A) end)
    
    local tcb = Instance.new("TextButton", f); tcb.Name = "TeamCheck"; tcb.Size = UDim2.new(0.92,0,0,22)
    tcb.Position = UDim2.new(0.04,0,0,68); tcb.Text = Settings.TCK and "Team Check: ON" or "Team Check: OFF"; tcb.BackgroundColor3 = Settings.TCK and Color3.fromRGB(0,170,0) or Color3.fromRGB(60,60,60); tcb.TextColor3 = Color3.fromRGB(255,255,255); tcb.BorderSizePixel = 0; tcb.ZIndex = 255
    Instance.new("UICorner", tcb).CornerRadius = UDim.new(0,6); G.teamCheckBtn = tcb
    tcb.MouseButton1Click:Connect(function() Settings.TCK = not Settings.TCK; tcb.Text = Settings.TCK and "Team Check: ON" or "Team Check: OFF"; tcb.BackgroundColor3 = Settings.TCK and Color3.fromRGB(0,170,0) or Color3.fromRGB(60,60,60) end)
    
    local ldb = Instance.new("TextBox", f); ldb.Name = "DistBox"; ldb.Size = UDim2.new(0.92,0,0,22)
    ldb.Position = UDim2.new(0.04,0,0,94); ldb.Text = ""; ldb.TextScaled = true; ldb.PlaceholderText = string.format("Dist: %d", Settings.LD); ldb.PlaceholderColor3 = Color3.fromRGB(150,150,150); ldb.BackgroundColor3 = Color3.fromRGB(60,60,60); ldb.TextColor3 = Color3.fromRGB(255,255,255); ldb.ZIndex = 255; G.distBox = ldb
    ldb.FocusLost:Connect(function(enterPressed) updateLockDistance(ldb.Text) end)

    local prb = Instance.new("TextBox", f); prb.Name = "PredBox"; prb.Size = UDim2.new(0.92,0,0,22)
    prb.Position = UDim2.new(0.04,0,0,120); prb.Text = ""; prb.TextScaled = true; prb.PlaceholderText = string.format("Pred: %.2f", Settings.PR); prb.PlaceholderColor3 = Color3.fromRGB(150,150,150); prb.BackgroundColor3 = Color3.fromRGB(60,60,60); prb.TextColor3 = Color3.fromRGB(255,255,255); prb.ZIndex = 255
    Instance.new("UICorner", prb).CornerRadius = UDim.new(0,6); G.predBox = prb
    prb.FocusLost:Connect(function(enterPressed) updatePredictionRate(prb.Text) end)
    
    local ab = Instance.new("TextButton", f); ab.Name = "AimPartSelect"; ab.Size = UDim2.new(0.92,0,0,22)
    ab.Position = UDim2.new(0.04,0,0,146); ab.Text = "Target: " .. Settings.AP; ab.TextScaled = true; ab.BackgroundColor3 = Color3.fromRGB(60,60,60); ab.TextColor3 = Color3.fromRGB(255,255,255); ab.BorderSizePixel = 0; ab.ZIndex = 256
    Instance.new("UICorner", ab).CornerRadius = UDim.new(0,6); ab.MouseButton1Click:Connect(toggleScrolling); G.aimPartBtn = ab
    
    local al = Instance.new("ScrollingFrame", f); al.Name = "AimPartList"; al.Size = UDim2.new(0.92, 0, 0, 66); al.Position = UDim2.new(0.04, 0, 0, 169); al.BackgroundTransparency = 0.5; al.BackgroundColor3 = Color3.fromRGB(40, 40, 40); al.BorderSizePixel = 0; al.CanvasSize = UDim2.new(0, 0, 0, #Settings.AOP * 22); al.ScrollBarThickness = 6; al.Visible = false; al.ZIndex = 257
    G.aimPartList = al
    
    local ll = Instance.new("UIListLayout", al); 
    ll.FillDirection = Enum.FillDirection.Vertical; ll.HorizontalAlignment = Enum.HorizontalAlignment.Center; ll.VerticalAlignment = Enum.VerticalAlignment.Top; ll.SortOrder = Enum.SortOrder.LayoutOrder;
    for i, name in ipairs(Settings.AOP) do
        local pb = Instance.new("TextButton", al); pb.Name = name; pb.Size = UDim2.new(1,0,0,22); pb.Text = name; pb.TextScaled = true; pb.BackgroundColor3 = Color3.fromRGB(60,60,60); pb.TextColor3 = Color3.fromRGB(255,255,255); pb.BorderSizePixel = 0; pb.ZIndex = 257
        pb.MouseButton1Click:Connect(function() updateAimPart(i); toggleScrolling() end)
    end
    
    local ft = Instance.new("TextButton", f); ft.Name = "FOVToggle"; ft.Size = UDim2.new(0.28,0,0,22); ft.Position = UDim2.new(0.04,0,0,172); ft.Text = (Settings.FE and "FOV: ON" or "FOV: OFF"); ft.TextScaled = true; ft.BackgroundColor3 = Settings.FE and Color3.fromRGB(0,170,0)or Color3.fromRGB(60,60,60); ft.TextColor3 = Color3.fromRGB(255,255,255); ft.ZIndex = 255; G.fovToggle = ft
    ft.MouseButton1Click:Connect(function() Settings.FE = not Settings.FE; ft.Text = (Settings.FE and "FOV: ON"or "FOV: OFF"); ft.BackgroundColor3 = Settings.FE and Color3.fromRGB(0,170,0)or Color3.fromRGB(60,60,60) end)
    
    local fm = Instance.new("TextButton", f); fm.Name = "FOVMinus"; fm.Size = UDim2.new(0.28,0,0,22); fm.Position = UDim2.new(0.36,0,0,172); fm.Text = "-"; fm.TextScaled = true; fm.BackgroundColor3 = Color3.fromRGB(60,60,60); fm.TextColor3 = Color3.fromRGB(255,255,255); fm.ZIndex = 255; G.fovMinus = fm
    fm.MouseButton1Click:Connect(function() Settings.FR = math.max(20, Settings.FR - 20) end)
    
    local fp = Instance.new("TextButton", f); fp.Name = "FOVPlus"; fp.Size = UDim2.new(0.28,0,0,22); fp.Position = UDim2.new(0.68,0,0,172); fp.Text = "+"; fp.TextScaled = true; fp.BackgroundColor3 = Color3.fromRGB(60,60,60); fp.TextColor3 = Color3.fromRGB(255,255,255); fp.ZIndex = 255; G.fovPlus = fp
    fp.MouseButton1Click:Connect(function() Settings.FR = math.min(1000, Settings.FR + 20) end)
    
    local cbtn = Instance.new("TextButton", f); cbtn.Name = "ColorBtn"; cbtn.Size = UDim2.new(0.45,0,0,22); cbtn.Position = UDim2.new(0.04,0,0,198); cbtn.Text = "Color"; cbtn.TextColor3 = Color3.new(0,0,0); cbtn.TextScaled = true; cbtn.BackgroundColor3 = Settings.FC; cbtn.ZIndex = 255; G.colorBtn = cbtn
    cbtn.MouseButton1Click:Connect(cycleFOVColor)
    
    local sb = Instance.new("TextBox", f); sb.Name = "SmoothBox"; sb.Size = UDim2.new(0.45,0,0,22); 
    sb.Position = UDim2.new(0.51,0,0,198); sb.Text = ""; sb.TextScaled = true; sb.PlaceholderText = string.format("Smooth: %.1f", Settings.SM); sb.PlaceholderColor3 = Color3.fromRGB(150,150,150); sb.BackgroundColor3 = Color3.fromRGB(60,60,60); sb.TextColor3 = Color3.fromRGB(255,255,255); sb.ZIndex = 255; G.smoothBox = sb
    Instance.new("UICorner", sb).CornerRadius = UDim.new(0,6); sb.FocusLost:Connect(function(enterPressed) updateSmoothness(sb.Text) end)
    
    local ftbm = Instance.new("TextButton", f); ftbm.Name = "FloatToggleMaster"; ftbm.Size = UDim2.new(0.92,0,0,22); ftbm.Position = UDim2.new(0.04,0,0,224); ftbm.Text = "Show Float Toggle"; ftbm.TextScaled = true; ftbm.BackgroundColor3 = Color3.fromRGB(60,60,60); ftbm.TextColor3 = Color3.fromRGB(255,255,255); ftbm.BorderSizePixel = 0; ftbm.ZIndex = 255
    Instance.new("UICorner", ftbm).CornerRadius = UDim.new(0,6); G.floatToggleBtnMaster = ftbm
    ftbm.MouseButton1Click:Connect(function()
        if G.FloatingToggleSG then
            pcall(function() G.FloatingToggleSG:Destroy() end)
            G.FloatingToggleSG = nil
            ftbm.BackgroundColor3 = Color3.fromRGB(60,60,60); ftbm.Text = "Show Float Toggle"
        else
            createFloatingToggle()
            ftbm.BackgroundColor3 = Color3.fromRGB(0,170,0); ftbm.Text = "Hide Float Toggle"
        end
    end)
    
    G.frame = f; G.screenGui = sg;
    return sg
end

U.InputChanged:Connect(function(input, gp)
    if S and not gp and (input.UserInputType == Enum.UserInputType.MouseWheel) then
        local change = input.Position.Z > 0 and 1 or -1
        local newIndex = Settings.APi + change
        if newIndex >= 1 and newIndex <= #Settings.AOP then updateAimPart(newIndex) end
    end
end)

if LP then makeGUI() end
